{"version":3,"sources":["views/pages/dendogram/dendogram.js","views/pages/dendogram/index.js"],"names":["json","require","Dendogram","table","svgRef","React","useRef","margin","useEffect","d3","append","attr","style","tree","nodeSize","separation","a","b","parent","diagonal","x","d","y","root","id","kd_eldat","parentId","kd_parent","x0","y0","descendants","forEach","i","_children","children","svg","current","gLink","gNode","update","source","nodes","reverse","links","left","right","eachBefore","node","height","width","transition","duration","tween","window","ResizeObserver","dispatch","selectAll","data","rectWidth","nodeEnter","enter","on","event","console","log","rectHeight","fill","this","parentNode","childNodes","ur_eldat","length","Value","text","ur_grup","initial","KL","cleaned","trim","substring","arrKL","Set","split","initialijin","ur_ijin","cleanedijin","arrIjin","div","html","map","join","pageX","pageY","remove","copytext","slice","merge","exit","link","target","linkEnter","o","className","ref","Index"],"mappings":"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","file":"static/js/44.4a644d29.chunk.js","sourcesContent":["/** MultilineChart.js */\r\nimport React from \"react\";\r\nimport * as d3 from \"d3\";\r\n// import {event as currentEvent} from 'd3-selection'\r\nimport { CCard, CCardBody } from \"@coreui/react\";\r\n\r\nvar json = require('./data.json')\r\nconst Dendogram = () => {\r\n  const table = json\r\n  const svgRef = React.useRef(null);\r\n  const margin = { top: 60, right: 120, bottom: 10, left: 0 };    \r\n  React.useEffect(() => {\r\n    const width = 900;\r\n    const dx = 10;\r\n    const dy = 300;\r\n    const tooltip = d3.select(\"body\").append(\"div\")\t\r\n    .attr(\"class\", \"tooltip\")\t\t\t\t\r\n    .style(\"opacity\", 0);\r\n\r\n    const tree = d3.tree().nodeSize([100, 190])\r\n    .separation(function(a, b) {\r\n      return a.parent == b.parent ? 1 : 1.25;\r\n    });\r\n    var formatTime = d3.timeFormat(\"%e %B\");\r\n    const diagonal = d3\r\n      .linkHorizontal()\r\n      .x((d) => {\r\n        return d.y+70\r\n      })\r\n      .y((d) => {\r\n        return d.x \r\n      });\r\n    const root = d3.stratify()\r\n    .id(function(d) { return d.kd_eldat; })\r\n    .parentId(function(d) { return d.kd_parent; })\r\n    (table)   \r\n    root.x0 = 159 / 2;\r\n    root.y0 = 0;\r\n    root.descendants().forEach((d, i) => {\r\n      d.id = i;\r\n      d._children = d.children;\r\n      d.children = null;\r\n    });    \r\n    const svg = d3\r\n      .select(svgRef.current)\r\n      .attr(\"viewBox\", [-20, -margin.top, 954, 10])\r\n      .style(\"font\", \"10px sans-serif\")\r\n      .style(\"user-select\", \"none\");\r\n    const gLink = svg\r\n      .append(\"g\")\r\n      .attr(\"fill\", \"none\")\r\n      .attr(\"stroke\", \"#555\")\r\n      .attr(\"stroke-opacity\", 0.4)\r\n      .attr(\"stroke-width\", 3);\r\n    const gNode = svg\r\n      .append(\"g\")\r\n      .attr(\"cursor\", \"pointer\")\r\n      .attr(\"pointer-events\", \"all\");\r\n    function update(source) {\r\n      const duration = 250\r\n      const nodes = root.descendants().reverse()\r\n      // let bro = nodes.map((x)=>{\r\n      //   return {...x, ['y']: x.depth * 180 }\r\n      // })\r\n      // console.log(bro)\r\n      const links = root.links();\r\n\r\n      // Compute the new tree layout.\r\n      tree(root);\r\n\r\n      let left = root;\r\n      let right = root;\r\n      root.eachBefore((node) => {\r\n        if (node.x < left.x) left = node;\r\n        if (node.x > right.x) right = node;\r\n      });\r\n\r\n      const height = right.x - left.x + margin.top + margin.bottom + 60;\r\n      const width = 500 + right.y + left.y + margin.left + margin.right + 500;\r\n\r\n      const transition = svg\r\n        .transition()\r\n        .duration(duration)\r\n        .attr(\"width\",width)\r\n        .attr(\"viewBox\", [-margin.left, left.x - margin.top, width, height])\r\n        .tween(\r\n          \"resize\",\r\n          window.ResizeObserver ? null : () => () => svg.dispatch(\"toggle\")\r\n        );\r\n\r\n      // Update the nodes…\r\n      const node = gNode.selectAll(\"g\").data(nodes, (d) => d.id);\r\n\r\n      var rectHeight = 60, rectWidth = 140;\r\n      const nodeEnter = node\r\n        .enter()\r\n        .append(\"g\")\r\n        .attr(\"transform\", () => {\r\n          return `translate(${source.y0},${source.x0})`\r\n        })\r\n        .attr(\"fill-opacity\", 0)\r\n        .attr(\"stroke-opacity\", 0)\r\n        .on(\"click\", (event, d) => {\r\n          console.log(d)\r\n          d.children = d.children ? null : d._children;\r\n          update(d);\r\n        })  \r\n\r\n      nodeEnter.append('rect')\r\n      .attr('class', 'node')\r\n      .attr(\"width\", function(d){\r\n        return rectWidth\r\n        // if(d.data.ur_eldat.length+d.data.Value.length < 19){\r\n        //   return rectWidth\r\n        // } else {\r\n        //   let sisa = (d.data.ur_eldat.length + d.data.Value.length + 2 - 19)*4.9\r\n        //   let tambah = sisa + rectWidth\r\n        //   return tambah\r\n        // }\r\n      })\r\n      .attr(\"height\", rectHeight)\r\n      .attr(\"x\", 0)\r\n      .attr(\"y\", (rectHeight/2)*-1)\r\n      .attr(\"rx\",\"5\")\r\n      .style(\"fill\", function(d){\r\n        return d.data.fill\r\n      }) \r\n      .on(\"mouseover\", function(event, d) {  \r\n        d3.select(this.parentNode)\r\n        .attr(\"transform\", (d)=>{\r\n          return `translate(${d.y0},${d.x0}), scale(1.2,1.2)`\r\n        })                     \r\n        d3.select(this.parentNode.childNodes[0])\r\n        .attr(\"width\", function(d){\r\n          if(d.data.ur_eldat.length+d.data.Value.length < 19){\r\n            return rectWidth\r\n          } else {\r\n            let sisa = (d.data.ur_eldat.length + d.data.Value.length + 2 - 19)*4.9\r\n            let tambah = sisa + rectWidth\r\n            return tambah\r\n          } \r\n        }) \r\n        d3.select(this.parentNode.childNodes[1].childNodes[1])\r\n        .text(function(d){\r\n          if(d.data.ur_grup === 'Kode HS'){\r\n            return `${d.data.ur_eldat} (Kode : ${d.data.kd_eldat})`            \r\n          } else {\r\n            return `${d.data.ur_eldat}`\r\n          }\r\n        }) \r\n        if(d.data.kd_eldat != \"0\"){\r\n          const initial = d.data.KL\r\n          const cleaned = initial.trim().substring(1, initial.length - 1)\r\n          const arrKL = [...new Set(cleaned.split(','))]  \r\n          const initialijin = d.data.ur_ijin\r\n          const cleanedijin = initialijin.trim().substring(1, initialijin.length - 1)\r\n          const arrIjin = [...new Set(cleanedijin.split(','))] \r\n          var div = d3.select(\"body\").append(\"div\")\t\r\n          .attr(\"class\", \"tooltip\")\r\n          .attr(\"id\", \"jakasembungbawagolok\")\t\t\t\t\r\n          .style(\"opacity\", 0)                                             \r\n          div.transition()\t\t\r\n              .duration(200)\t\t\r\n              .style(\"opacity\", 1);\t\t\r\n          div\t.html(\"<b>K/L Pembina RKI :</b>\"+ arrKL.map((x)=>{\r\n            return(\r\n              \"<li>\"+x+\"</li>\"\r\n            )\r\n          }).join('')+\"<br/><b>IJIN : </b>\"+ arrIjin.map((x)=>{\r\n            return(\r\n              \"<li>\"+x+\"</li>\"\r\n            )\r\n          }).join(''))\r\n            .style(\"left\", (event.pageX)-10 + \"px\")\t\t\r\n            .style(\"top\", (event.pageY + 20) + \"px\")          \r\n        }                                        \r\n      })  \r\n      .on(\"mouseout\", function(event, d){\r\n        if(d.data.kd_eldat != '0'){\r\n          var div = d3.select(\"#jakasembungbawagolok\")\r\n          div.remove()           \r\n        }       \r\n        d3.select(this.parentNode)\r\n        .attr(\"transform\", (d)=>{\r\n          return `translate(${d.y0},${d.x0}), scale(1,1)`\r\n        })                     \r\n        d3.select(this.parentNode.childNodes[0])\r\n        .attr(\"width\", function(d){\r\n          return rectWidth\r\n        }) \r\n        d3.select(this.parentNode.childNodes[1].childNodes[1])\r\n        .text(function(d){\r\n          let jumlah = d.data.ur_eldat.length + d.data.Value.length\r\n          if (jumlah < 26){\r\n            if(d.data.ur_grup === 'Kode HS'){\r\n              return `${d.data.ur_eldat} (Kode : ${d.data.kd_eldat})`              \r\n            }  else {\r\n              return `${d.data.ur_eldat}`              \r\n            }\r\n          } else {\r\n            let copytext = d.data.ur_eldat\r\n            let b = 26 - d.data.Value.length\r\n            let text = copytext.slice(0,b-4) + \"...\"\r\n            if(d.data.ur_grup === 'Kode HS'){\r\n              return `${text} (Kode : ${d.data.kd_eldat})`\r\n            } else {\r\n              return `${text}`              \r\n            }\r\n          }\r\n        })                \r\n      })          \r\n      nodeEnter.append('text')\r\n      .attr(\"dy\", \"-.35em\")\r\n      .attr(\"x\", function(d) {\r\n        return 13;\r\n      })\r\n      .attr(\"text-anchor\", function(d) {\r\n        return \"start\";\r\n      })\r\n      .text(function(d) { \r\n        return `${d.data.ur_grup}` \r\n      })\r\n      .style(\"fill\", \"white\")\r\n        .on(\"mouseover\", function(event, d) {          \r\n          d3.select(this.parentNode)\r\n          .attr(\"transform\", (d)=>{\r\n            return `translate(${d.y0},${d.x0}), scale(1.2,1.2)`\r\n          })                     \r\n          d3.select(this.parentNode.childNodes[0])\r\n          .attr(\"width\", function(d){\r\n            if(d.data.ur_eldat.length+d.data.Value.length < 19){\r\n              return rectWidth\r\n            } else {\r\n              let sisa = (d.data.ur_eldat.length + d.data.Value.length + 2 - 19)*4.9\r\n              let tambah = sisa + rectWidth\r\n              return tambah\r\n            } \r\n          }) \r\n          d3.select(this.parentNode.childNodes[1].childNodes[1])\r\n          .text(function(d){\r\n            if(d.data.ur_grup === 'Kode HS'){\r\n              return `${d.data.ur_eldat} (Kode : ${d.data.kd_eldat})`\r\n            } else {\r\n              return `${d.data.ur_eldat}`              \r\n            }\r\n          }) \r\n          if(d.data.kd_eldat != \"0\"){\r\n            const initial = d.data.KL\r\n            const cleaned = initial.trim().substring(1, initial.length - 1)\r\n            const arrKL = [...new Set(cleaned.split(','))]  \r\n            const initialijin = d.data.ur_ijin\r\n            const cleanedijin = initialijin.trim().substring(1, initialijin.length - 1)\r\n            const arrIjin = [...new Set(cleanedijin.split(','))] \r\n            var div = d3.select(\"body\").append(\"div\")\t\r\n            .attr(\"class\", \"tooltip\")\r\n            .attr(\"id\", \"jakasembungbawagolok\")\t\t\t\t\r\n            .style(\"opacity\", 0)                                             \r\n            div.transition()\t\t\r\n                .duration(200)\t\t\r\n                .style(\"opacity\", 1);\t\t\r\n            div\t.html(\"<b>K/L Pembina RKI :</b>\"+ arrKL.map((x)=>{\r\n              return(\r\n                \"<li>\"+x+\"</li>\"\r\n              )\r\n            }).join('')+\"<br/><b>IJIN : </b>\"+ arrIjin.map((x)=>{\r\n              return(\r\n                \"<li>\"+x+\"</li>\"\r\n              )\r\n            }).join(''))\r\n              .style(\"left\", (event.pageX)-10 + \"px\")\t\t\r\n              .style(\"top\", (event.pageY + 20) + \"px\")          \r\n          }                                             \r\n        })  \r\n        .on(\"mouseout\", function(event, d){   \r\n          if(d.data.kd_eldat != '0'){\r\n            var div = d3.select(\"#jakasembungbawagolok\")\r\n            div.remove()           \r\n          }             \r\n          d3.select(this.parentNode)\r\n          .attr(\"transform\", (d)=>{\r\n            return `translate(${d.y0},${d.x0}), scale(1,1)`\r\n          })                     \r\n          d3.select(this.parentNode.childNodes[0])\r\n          .attr(\"width\", function(d){\r\n            return rectWidth\r\n          }) \r\n          d3.select(this.parentNode.childNodes[1].childNodes[1])\r\n          .text(function(d){\r\n            let jumlah = d.data.ur_eldat.length + d.data.Value.length\r\n            if (jumlah < 26){\r\n              if(d.data.ur_grup === 'Kode HS'){\r\n                return `${d.data.ur_eldat}} (Kode : ${d.data.kd_eldat})`                \r\n              } else {\r\n                return `${d.data.ur_eldat}}`                \r\n              }\r\n            } else {\r\n              let copytext = d.data.ur_eldat\r\n              let b = 26 - d.data.Value.length\r\n              let text = copytext.slice(0,b-4) + \"...\"\r\n              if(d.data.ur_grup === 'Kode HS'){\r\n                return `${text} (Kode : ${d.data.kd_eldat})`\r\n              } else {\r\n                return `${text}`                \r\n              }\r\n            }\r\n          })                \r\n        })\r\n      .append(\"tspan\")\r\n      .attr(\"dy\", \"1.75em\")\r\n      .attr(\"x\", function(d) {\r\n        return 13;\r\n      })\r\n      .text(function(d) { \r\n        let jumlah = d.data.ur_eldat.length + d.data.Value.length\r\n        if (jumlah < 26){\r\n          if(d.data.ur_grup === 'Kode HS'){\r\n            return `${d.data.ur_eldat} (Kode : ${d.data.kd_eldat})` \r\n          } else {\r\n            return `${d.data.ur_eldat}`             \r\n          }\r\n        } else {\r\n          let copytext = d.data.ur_eldat\r\n          let b = 26 - d.data.Value.length\r\n          let text = copytext.slice(0,b-4) + \"...\"\r\n          if(d.data.ur_grup === 'Kode HS'){\r\n            return `${text} (Kode : ${d.data.kd_eldat})`\r\n          } else {\r\n            return `${text}`            \r\n          }\r\n        }\r\n      })\r\n      .style(\"fill\", \"white\")\r\n      .on(\"mouseover\", function(event, d) {          \r\n        d3.select(this.parentNode.parentNode)\r\n        .attr(\"transform\", (d)=>{\r\n          return `translate(${d.y0},${d.x0}), scale(1.2,1.2)`\r\n        })                     \r\n        d3.select(this.parentNode.parentNode.childNodes[0])\r\n        .attr(\"width\", function(d){\r\n          if(d.data.ur_eldat.length+d.data.Value.length < 19){\r\n            return rectWidth\r\n          } else {\r\n            let sisa = (d.data.ur_eldat.length + d.data.Value.length + 2 - 19)*4.9\r\n            let tambah = sisa + rectWidth\r\n            return tambah\r\n          } \r\n        }) \r\n        d3.select(this.parentNode.parentNode.childNodes[1].childNodes[1])\r\n        .text(function(d){\r\n          if(d.data.ur_grup === 'Kode HS'){\r\n            return `${d.data.ur_eldat} (Kode : ${d.data.kd_eldat})`\r\n          } else {\r\n            return `${d.data.ur_eldat}`                        \r\n          }\r\n        })\r\n        if(d.data.kd_eldat != \"0\"){\r\n          const initial = d.data.KL\r\n          const cleaned = initial.trim().substring(1, initial.length - 1)\r\n          const arrKL = [...new Set(cleaned.split(','))]  \r\n          const initialijin = d.data.ur_ijin\r\n          const cleanedijin = initialijin.trim().substring(1, initialijin.length - 1)\r\n          const arrIjin = [...new Set(cleanedijin.split(','))] \r\n          var div = d3.select(\"body\").append(\"div\")\t\r\n          .attr(\"class\", \"tooltip\")\r\n          .attr(\"id\", \"jakasembungbawagolok\")\t\t\t\t\r\n          .style(\"opacity\", 0)                                             \r\n          div.transition()\t\t\r\n              .duration(200)\t\t\r\n              .style(\"opacity\", 1);\t\t\r\n          div\t.html(\"<b>K/L Pembina RKI :</b>\"+ arrKL.map((x)=>{\r\n            return(\r\n              \"<li>\"+x+\"</li>\"\r\n            )\r\n          }).join('')+\"<br/><b>IJIN : </b>\"+ arrIjin.map((x)=>{\r\n            return(\r\n              \"<li>\"+x+\"</li>\"\r\n            )\r\n          }).join(''))\r\n            .style(\"left\", (event.pageX)-10 + \"px\")\t\t\r\n            .style(\"top\", (event.pageY + 20) + \"px\")          \r\n        }                                             \r\n      })  \r\n      .on(\"mouseout\", function(event, d){   \r\n        if(d.data.kd_eldat != '0'){\r\n          var div = d3.select(\"#jakasembungbawagolok\")\r\n          div.remove()           \r\n        }          \r\n        d3.select(this.parentNode.parentNode)\r\n        .attr(\"transform\", (d)=>{\r\n          return `translate(${d.y0},${d.x0}), scale(1,1)`\r\n        })                     \r\n        d3.select(this.parentNode.parentNode.childNodes[0])\r\n        .attr(\"width\", function(d){\r\n          return rectWidth\r\n        }) \r\n        d3.select(this.parentNode.parentNode.childNodes[1].childNodes[1])\r\n        .text(function(d){\r\n          let jumlah = d.data.ur_eldat.length + d.data.Value.length\r\n          if (jumlah < 26){\r\n            if(d.data.ur_grup === 'Kode HS'){\r\n              return `${d.data.ur_eldat} (Kode : ${d.data.kd_eldat})` \r\n            } else {\r\n              return `${d.data.ur_eldat}`\r\n            }\r\n          } else {\r\n            let copytext = d.data.ur_eldat\r\n            let b = 26 - d.data.Value.length\r\n            let text = copytext.slice(0,b-4) + \"...\"\r\n            if(d.data.ur_grup === 'Kode HS'){\r\n              return `${text} (Kode : ${d.data.kd_eldat})`             \r\n            } else {\r\n              return `${text}`\r\n            }\r\n          }\r\n        })                \r\n      })     \r\n      // Enter any new nodes at the parent's previous position.\r\n      // const nodeEnter = node\r\n      //   .enter()\r\n      //   .append(\"g\")\r\n      //   .attr(\"transform\", (d) => `translate(${source.y0},${source.x0})`)\r\n      //   .attr(\"fill-opacity\", 0)\r\n      //   .attr(\"stroke-opacity\", 0)\r\n      //   .on(\"click\", (event, d) => {\r\n      //     d.children = d.children ? null : d._children;\r\n      //     update(d);\r\n      //   })        \r\n\r\n      // nodeEnter\r\n      //   .append(\"circle\")\r\n      //   .attr(\"r\", 2.5)\r\n      //   .attr(\"fill\", (d) => (d._children ? \"#555\" : \"#999\"))\r\n      //   .attr(\"stroke-width\", 10)   \r\n        \r\n      // var tooltip = d3.select('.tooltip-area')\r\n      // .style('opacity', 0);                    \r\n      // nodeEnter\r\n      //   .append(\"text\")\r\n      //   .attr(\"dy\", \"0.31em\")\r\n      //   .attr(\"x\", (d) => (d._children ? -6 : 6))\r\n      //   .attr(\"text-anchor\", (d) => (d._children ? \"end\" : \"start\"))\r\n      //   .text((d) => d.data.ur_eldat)\r\n      //   .raise()\r\n      //   .on(\"mouseover\", function(d) {\r\n      //     // tooltip.style(\"opacity\", 1);                  \r\n      //     d3.select(this.parentNode).raise()\r\n      //     .style(\"fill\", \"#02275d\")\r\n      //     .style(\"font\", \"15px sans-serif\")                      \r\n      //   })  \r\n      //   .on(\"mouseout\", function(){\r\n      //     d3.select(this.parentNode).lower()\r\n      //     .style(\"fill\", \"black\") \r\n      //     .style(\"font\", \"10px sans-serif\")\r\n      //     // tooltip.style('opacity', 0);\r\n      //   })                         \r\n      //   .clone(true)\r\n      //   .lower()\r\n      //   .attr(\"stroke-linejoin\", \"round\")\r\n      //   .attr(\"stroke-width\", 3)\r\n      //   .attr(\"stroke\", \"white\")            \r\n\r\n      // Transition nodes to their new position.\r\n      const nodeUpdate = node\r\n        .merge(nodeEnter)\r\n        .transition(transition)\r\n        .attr(\"transform\", (d) => `translate(${d.y},${d.x})`)\r\n        .attr(\"fill-opacity\", 1)\r\n        .attr(\"stroke-opacity\", 1);\r\n\r\n      // Transition exiting nodes to the parent's new position.\r\n      const nodeExit = node\r\n        .exit()\r\n        .transition(transition)\r\n        .remove()\r\n        .attr(\"transform\", (d) => `translate(${source.y},${source.x})`)\r\n        .attr(\"fill-opacity\", 0)\r\n        .attr(\"stroke-opacity\", 0);\r\n\r\n      // Update the links…\r\n      const link = gLink.selectAll(\"path\").data(links, (d) => d.target.id);\r\n\r\n      // Enter any new links at the parent's previous position.\r\n      const linkEnter = link\r\n        .enter()\r\n        .append(\"path\")\r\n        .attr(\"d\", (d) => {\r\n          const o = { x: source.x0, y: source.y0 };\r\n          return diagonal({ source: o, target: o });\r\n        });\r\n\r\n      // Transition links to their new position.\r\n      link.merge(linkEnter).transition(transition).attr(\"d\", diagonal);\r\n\r\n      // Transition exiting nodes to the parent's new position.\r\n      link\r\n        .exit()\r\n        .transition(transition)\r\n        .remove()\r\n        .attr(\"d\", (d) => {\r\n          const o = { x: source.x, y: source.y };\r\n          return diagonal({ source: o, target: o });\r\n        });\r\n      // Stash the old positions for transition.\r\n      root.eachBefore((d) => {\r\n        d.x0 = d.x;\r\n        d.y0 = d.y;\r\n      });\r\n    }\r\n    update(root);\r\n  });\r\n  return (\r\n    <>\r\n      {/* <select>\r\n        <option Value=\"01\">Beras</option>\r\n        <option Value=\"02\">Garam</option>\r\n        <option Value=\"03\">Ikan</option>\r\n        <option Value=\"04\">Daging Lembu</option>\r\n        <option Value=\"05\">Gula</option>\r\n      </select> */}\r\n      <CCard>\r\n        <CCardBody>\r\n          <h4>Dendrogram Referensi Neraca Komoditas</h4>\r\n        </CCardBody>\r\n      </CCard>\r\n      <CCard>\r\n        <CCardBody className=\"josss\">\r\n          <svg ref={svgRef}>         \r\n          </svg>           \r\n        </CCardBody>\r\n      </CCard>       \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dendogram;\r\n","import {React, useState, useEffect} from 'react'\r\nimport Dendogram from './dendogram';\r\n\r\nconst Index = () =>{\r\n    return(\r\n        <>\r\n        <Dendogram/>        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Index"],"sourceRoot":""}